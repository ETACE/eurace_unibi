<?xml version="1.0" encoding="UTF-8"?>
<xmodel version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://flame.ac.uk/schema/xmml_v2.xsd">
 <name>Labour Market</name>
 <version>Version 1.0, 01/02/2014</version>
 <author>Simon Gemkow, Philipp Harting, Sander van der Hoog</author>
 <description></description>
 <environment>
  <constants>
   <variable>
    <type>double</type>
    <name>union_strength</name>
    <description>0-1: fraction of productivity progress by which the wages are increased</description>
   </variable>
   <variable>
    <type>double</type>
    <name>wage_update</name>
    <description>0.02, Parameter for adaption of the wage offer: percentage</description>
   </variable>
   <variable>
    <type>int</type>
    <name>min_vacancy</name>
    <description>2, minimum number of vacancies to trigger vacancy counter</description>
   </variable>
   <variable>
    <type>double</type>
    <name>wage_reservation_update</name>
    <description>0.02, Parameter adaption of the reservation wage: percentage.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>region_cost</name>
    <description>0.2, Cost of working in a different region: commuting costs.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>delivery_prob_if_critical_stock_0</name>
    <description>25, Probability for the delivery if the critical stock of one mall was zero for the last periods.</description>
   </variable>
   <variable>
     <type>int</type>
     <name>number_applications</name>
     <description>Number of applications a worker can sent</description>
    </variable>
    <variable>
     <type>int</type>
     <name>applications_per_day</name>
     <description>Number of applications per day a worker can sent</description>
    </variable>
   <variable>
    <type>int</type>
    <name>lower_bound_firing</name>
    <description></description>
   </variable>
   <variable>
    <type>int</type>
    <name>upper_bound_firing</name>
    <description>Upper bound of the range from that the firm draws randomly the number of fired workers.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>logit_parameter_specific_skills</name>
    <description>Logit parameter for specific skills used in firm's hiring decision.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>logit_parameter_general_skills</name>
    <description>Logit parameter for general skills used in firm's hiring decision.</description>
   </variable>
   <variable>
    <type>int</type>
    <name>skill_update_acc_to_formula</name>
    <description>Binary variable: if 1 then the skill upgrade is done according to the adaptation formula, otherwise the speed is predetermined.</description>
   </variable>
  </constants>
  <functionFiles>
   <file>Firm_Employer_Functions.c</file>
   <file>Household_Employee_Functions.c</file>
   <file>Labour_aux_functions.c</file>
  </functionFiles>
  <timeUnits/>
  <dataTypes>
   <dataType>
    <name>employee</name>
    <description>Used to hold employee information in firms</description>
    <variables>
     <variable>
      <type>int</type>
      <name>id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>wage</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>general_skill</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>specific_skill</name>
      <description></description>
     </variable>
	  <variable>
      <type>double</type>
      <name>specific_skill_before_learning</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>vacancy</name>
    <description>Used by households to hold vacancy information</description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>wage_offer</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>job_type</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>job_application</name>
    <description>Used by firms to hold job applications</description>
    <variables>
     <variable>
      <type>int</type>
      <name>worker_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>general_skill</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>specific_skill</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>job_offer</name>
    <description>Used by households and firms to hold job offers</description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>region_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>wage_offer</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>job_type</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
   <dataType>
    <name>logit</name>
    <description>Used by firms to stock logits and corresponding worker IDs</description>
    <variables>
     <variable>
      <type>double</type>
      <name>logit_value</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>worker_id</name>
      <description></description>
     </variable>
     <variable>
      <type>int</type>
      <name>general_skill</name>
      <description></description>
     </variable>
    </variables>
   </dataType>
<dataType>
    <name>adt_list_adaptation_speed</name>
    <description>Used by firm, household and IG firm to store the adaptation speeds for the skill groups</description>
    <variables>
     <variable>
      <type>int</type>
      <name>general_skill_level</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>adaptation_speed</name>
      <description></description>
     </variable>
    </variables>
   </dataType>

  </dataTypes>
 </environment>
 <agents>
  <xagent>
   <name>Firm</name>
   <description></description>
   <memory>
    <variable>
     <type>employee_array</type>
     <name>employees</name>
     <description>Used to store the data-type Employee</description>
    </variable>
	 <variable>
     <type>employee_array</type>
     <name>r_and_d_employees</name>
     <description>Used to store the data-type Employee</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer</name>
     <description>The basic wage offer paid per unit of specific skills</description>
    </variable>
    <variable>
     <type>double</type>
     <name>technology</name>
     <description>Average technology/productivity of the capital</description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_employees</name>
     <description>Number of employees</description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_employees_skill_1</name>
     <description>Number of employees with general skills 1</description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_employees_skill_2</name>
     <description>Number of employees with general skills 2</description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_employees_skill_3</name>
     <description>Number of employees with general skills 3</description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_employees_skill_4</name>
     <description>Number of employees with general skills 4</description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_employees_skill_5</name>
     <description>Number of employees with general skills 5</description>
    </variable>
    <variable>
     <type>int</type>
     <name>vacancies</name>
     <description>Number of vacancies</description>
    </variable>
	   <variable>
     <type>int</type>
     <name>no_redundancies</name>
     <description>Number of vacancies</description>
    </variable>
	<variable>
     <type>int</type>
     <name>no_redundancies_r_and_d_employees</name>
     <description>Number of vacancies</description>
    </variable>
	  <variable>
     <type>int</type>
     <name>vacancies_r_and_d_employees</name>
     <description>Number of vacancies for R and D </description>
    </variable>
	<variable>
     <type>int</type>
     <name>posted_vacancies</name>
     <description>Number of posted vacancies</description>
    </variable>
	<variable>
     <type>int</type>
     <name>posted_vacancies_r_and_d_employees</name>
     <description>Number of posted vacancies for R and D </description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_g_skill</name>
     <description>Average general skills of the workforce</description>
    </variable>
	  <variable>
     <type>double</type>
     <name>average_adaptation_speed_specific_skills</name>
     <description>Average adaptation speed of the work force</description>
    </variable>
	 <variable>
     <type>adt_list_adaptation_speed_array</type>
     <name>list_adaptation_speed_per_skill_group</name>
     <description>List of adaptation speeds per skill group</description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_s_skill_of_1</name>
     <description>Average specific skills of employees with general skills 1</description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_s_skill_of_2</name>
     <description>Average specific skills of employees with general skills 2</description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_s_skill_of_3</name>
     <description>Average specific skills of employees with general skills 3</description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_s_skill_of_4</name>
     <description>Average specific skills of employees with general skills 4</description>
    </variable>
    <variable>
     <type>double</type>
     <name>average_s_skill_of_5</name>
     <description>Average specific skills of employees with general skills 5</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer_for_skill_1</name>
     <description>Wage offer for workers with skill level 1</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer_for_skill_2</name>
     <description>Wage offer for workers with skill level 2</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer_for_skill_3</name>
     <description>Wage offer for workers with skill level 3</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer_for_skill_4</name>
     <description>Wage offer for workers with skill level 4</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer_for_skill_5</name>
     <description>Wage offer for workers with skill level 5</description>
    </variable>
	 <variable>
     <type>double</type>
     <name>wage_offer_for_r_and_d_employees</name>
     <description>Wage offer for workers with skill level 5</description>
    </variable>
	<variable>
     <type>double</type>
     <name>base_wage_offer_r_and_d</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>employees_needed</name>
     <description>Number of workers a firm needs for next production</description>
    </variable>
   </memory>
   <functions>
    	<function>
     <name>Firm_set_labour_market_actions</name>
     <description>This function sets the number of vacancies and number of redundcies.</description>
     <currentState>Firm_Start_Labour_Role</currentState>
     <nextState>011a</nextState>
     <inputs/>
     <outputs/>
    </function>
<function>
     <name>Firm_calculate_specific_skills_and_wage_offer</name>
     <description>Calculation of the specific skills in the firm and of the wage offer in this period.</description>
     <currentState>011a</currentState>
     <nextState>011</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_send_vacancies</name>
     <description>If additional workers are needed the firm sends vacancies messages espacially the different wage offers for the different general skill groups.</description>
     <currentState>04ccc</currentState>
     <nextState>03</nextState>
     <condition>
	 <lhs>
      <lhs>
       <value>a.vacancies</value>
      </lhs>
      <op>GT</op>
      <rhs>
       <value>0</value>
      </rhs>
	</lhs>
	 <op>OR</op>
	 <rhs>
      <lhs>
       <value>a.vacancies_r_and_d_employees</value>
      </lhs>
      <op>GT</op>
      <rhs>
       <value>0</value>
      </rhs>
	</rhs>
     </condition>
     <inputs/>
     <outputs>
      <output>
       <messageName>vacancies</messageName>
      </output>
	<output>
       <messageName>vacancies_r_and_d_employees</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_send_redundancies</name>
     <description>If the firm wants to decrease the workforce it sends redundancies.</description>
     <currentState>011</currentState>
     <nextState>03ccc</nextState>
     <condition>
	 <lhs>
      <lhs>
       <value>a.no_redundancies</value>
      </lhs>
      <op>GT</op>
      <rhs>
       <value>0</value>
      </rhs>
	</lhs>
	 <op>OR</op>
	 <rhs>
      <lhs>
       <value>a.no_redundancies_r_and_d_employees</value>
      </lhs>
      <op>GT</op>
      <rhs>
       <value>0</value>
      </rhs>
	</rhs>
     </condition>
     <inputs/>
     <outputs>
      <output>
       <messageName>firing</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_idle</name>
     <description>Firm does nothing.</description>
     <currentState>011</currentState>
     <nextState>03ccc</nextState>
      <condition>
	 <lhs>
      <lhs>
       <value>a.no_redundancies</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>0</value>
      </rhs>
	</lhs>
	 <op>AND</op>
	 <rhs>
      <lhs>
       <value>a.no_redundancies_r_and_d_employees</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>0</value>
      </rhs>
	</rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_read_job_applications_send_job_offer_or_rejection</name>
     <description>Firm reads the application, ranks the applicants according to their general and specific skills and sends as many job offers to the first ranked applicants as the firm has vacancies to fill. The other applicants are refused.</description>
     <currentState>03</currentState>
     <nextState>04</nextState>
     <inputs>
      <input>
       <messageName>job_application</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>job_offer</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_read_job_responses</name>
     <description>The firm reads the responses to their job offers and updates the number of employees and the number of vacancies.</description>
     <currentState>04</currentState>
     <nextState>05a</nextState>
     <inputs>
      <input>
       <messageName>job_acceptance</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_read_job_quitting</name>
     <description>The firm reads quitting messages and updates the number of employees and the number of vacancies.</description>
     <currentState>05a</currentState>
     <nextState>05b</nextState>
     <inputs>
      <input>
       <messageName>quitting</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_read_job_quitting</name>
     <description>The firm reads quitting messages and updates the number of employees and the number of vacancies.</description>
     <currentState>00b</currentState>
     <nextState>09c</nextState>
     <inputs>
      <input>
       <messageName>quitting</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_read_job_quitting</name>
     <description>The firm reads quitting messages and updates the number of employees and the number of vacancies.</description>
     <currentState>03c</currentState>
     <nextState>03d</nextState>
     <inputs>
      <input>
       <messageName>quitting</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_start_labour_market</name>
     <description>Dummy function if a firm has to enter the Labor Market in the second round after receiving quittings.</description>
     <currentState>03d</currentState>
     <nextState>06</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_finish_labour_market_first_round</name>
     <description>Firm has nothing to do in the first round.</description>
     <currentState>05b</currentState>
     <nextState>09a</nextState>
     <condition>
	 <lhs>
      <lhs>
       <value>a.vacancies</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>0</value>
      </rhs>
	</lhs>
	 <op>AND</op>
	 <rhs>
      <lhs>
       <value>a.vacancies_r_and_d_employees</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>0</value>
      </rhs>
	</rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_update_wage_offer</name>
     <description>The firm increases the wage offer if there are vacancies left.</description>
     <currentState>05b</currentState>
     <nextState>06</nextState>
     <condition>
	 <lhs>
      <lhs>
       <value>a.vacancies</value>
      </lhs>
      <op>GT</op>
      <rhs>
       <value>0</value>
      </rhs>
	</lhs>
	 <op>OR</op>
	 <rhs>
      <lhs>
       <value>a.vacancies_r_and_d_employees</value>
      </lhs>
      <op>GT</op>
      <rhs>
       <value>0</value>
      </rhs>
	</rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_send_vacancies_2</name>
     <description>If additional workers are needed the firm sends vacancies messages espacially the different wage offers for the different general skill groups.</description>
     <currentState>06</currentState>
     <nextState>07</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>vacancies2</messageName>
      </output>
		 <output>
       <messageName>vacancies_r_and_d_employees2</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_read_job_applications_send_job_offer_or_rejection_2</name>
     <description>Firm reads the application, ranks the applicants according to their general and specific skills and sends as many job offers to the first ranked applicants as the firm has vacancies to fill.The other applicants are refused.</description>
     <currentState>07</currentState>
     <nextState>08</nextState>
     <inputs>
      <input>
       <messageName>job_application2</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>job_offer2</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Firm_read_job_responses_2</name>
     <description>The firm reads the responses to their job offers and updates the number of employees and the number of vacancies.</description>
     <currentState>08</currentState>
     <nextState>09a</nextState>
     <inputs>
      <input>
       <messageName>job_acceptance2</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.firm_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_read_job_quitting_2</name>
     <description>The firm reads quitting messages and updates the number of employees and the number of vacancies.</description>
     <currentState>09a</currentState>
     <nextState>09b</nextState>
     <inputs>
      <input>
       <messageName>quitting2</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_read_job_quitting_2</name>
     <description>The firm reads quitting messages and updates the number of employees and the number of vacancies.</description>
     <currentState>09c</currentState>
     <nextState>Firm_Start_Seller_Role</nextState>
     <inputs>
      <input>
       <messageName>quitting2</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Firm_update_wage_offer_2</name>
     <description>The firm increases the wage offer if there are vacancies left.</description>
     <currentState>09b</currentState>
     <nextState>10</nextState>
     <condition>
      <lhs>
       <value>a.no_employees</value>
      </lhs>
      <op>LT</op>
      <rhs>
       <value>a.employees_needed</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_idle</name>
     <description>Firm does nothing.</description>
     <currentState>09b</currentState>
     <nextState>10</nextState>
     <condition>
      <not>
       <lhs>
        <value>a.no_employees</value>
       </lhs>
       <op>LT</op>
       <rhs>
        <value>a.employees_needed</value>
       </rhs>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_compute_mean_wage_specific_skills</name>
     <description>Firm does statistical calculations.</description>
     <currentState>10</currentState>
     <nextState>Firm_End_Labour_Role</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Firm_send_random_redundancies</name>
     <description>Firms fire workers randomly.</description>
     <currentState>03ccc</currentState>
     <nextState>04ccc</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>firing</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>idle</name>
     <description></description>
     <currentState>04ccc</currentState>
     <nextState>03c</nextState>
      <condition>
	 <lhs>
      <lhs>
       <value>a.vacancies</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>0</value>
      </rhs>
	</lhs>
	 <op>AND</op>
	 <rhs>
      <lhs>
       <value>a.vacancies_r_and_d_employees</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>0</value>
      </rhs>
	</rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
   </functions>
  </xagent>
  <xagent>
   <name>Household</name>
   <description></description>
   <memory>
    <variable>
     <type>double</type>
     <name>wage</name>
     <description>The wage a household receives</description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_reservation</name>
     <description>Reservation wage: Worker does not accept a wage offer below the reservation wage</description>
    </variable>
    <variable>
     <type>int</type>
     <name>general_skill</name>
     <description>The general skill level (1-5)</description>
    </variable>
	 <variable>
     <type>adt_list_adaptation_speed_array</type>
     <name>list_adaptation_speed_per_general_skill_group</name>
     <description>List of adaptation speeds per skill group</description>
    </variable>
    <variable>
     <type>int</type>
     <name>on_the_job_search</name>
     <description>Indicator variable: 1 on the job search; 0 no on the job search</description>
    </variable>
    <variable>
     <type>int</type>
     <name>search_today</name>
     <description>Indicator variable: 1 Household will search for a job in this iteration</description>
    </variable>
    <variable>
     <type>double</type>
     <name>last_labour_income</name>
     <description>The last labour income received by the worker if the Household is unemployed</description>
    </variable>
    <variable>
     <type>double</type>
     <name>specific_skill</name>
     <description>The specific skills of a worker</description>
    </variable>
    <variable>
     <type>int</type>
     <name>employee_firm_id</name>
     <description>The id of the employer</description>
    </variable>
    <variable>
     <type>int</type>
     <name>just_employed</name>
     <description>Indicator if worker was hired in the actual period.</description>
    </variable>
    <variable>
     <type>int</type>
     <name>just_unemployed</name>
     <description>Indicator if worker was fired in the actual period.</description>
    </variable>
    <variable>
     <type>int</type>
     <name>start_unemployed</name>
     <description>Employment status at the beginning of the actual period: unemployed</description>
    </variable>
    <variable>
     <type>int</type>
     <name>start_employed</name>
     <description>Employment status at the beginning of the actual period: employed</description>
    </variable>
    <variable>
     <type>int</type>
     <name>unemployed_duration</name>
     <description>Duration of unemployment.</description>
    </variable>
    <variable>
     <type>int</type>
     <name>enter_matching</name>
     <description>Worker enters matching process.</description>
    </variable>
    <variable>
     <type>int</type>
     <name>employer_region_id</name>
     <description>The region_id of the employer</description>
    </variable>
    <variable>
     <type>int</type>
     <name>employer_igfirm</name>
     <description>The region_id of the employer</description>
    </variable>
    <variable>
     <type>int</type>
     <name>day_of_month_receive_benefit</name>
     <description>The day of the month on whivh the household receives its unemployment benefit. Equal to the day on which it became unemployed. This value will change when the household becomes re-employed again by another (or the same) firm, with the exception in case the new firm has the same activation day as the old firm.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>unemployment_payment</name>
     <description>Unemployment benefit in case the household is unemployed.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>region_wide_mean_wage</name>
     <description>Mean wage of the household's region. Used in the computation of unemployment benefits.</description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_net_income</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>mean_net_income</name>
     <description>Mean of the last net incomes.</description>
    </variable>
   </memory>
   <functions>
    <function>
     <name>Household_read_firing_messages</name>
     <description>The household checks whether is is fired or not</description>
     <currentState>Household_Start_Labour_Role</currentState>
     <nextState>01d</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs>
      <input>
       <messageName>firing</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.worker_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Household_idle</name>
     <description>Household does nothing</description>
     <currentState>01d</currentState>
     <nextState>01a</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_idle</name>
     <description>Household does nothing</description>
     <currentState>Household_Start_Labour_Role</currentState>
     <nextState>01a</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_UNEMPLOYED_read_job_vacancies_and_send_applications</name>
     <description> Household reads vacancies messages and sends applications</description>
     <currentState>01a</currentState>
     <nextState>01</nextState>
     <inputs>
      <input>
       <messageName>vacancies</messageName>
      </input>
		<input>
       <messageName>vacancies_r_and_d_employees</messageName>
		 <filter>
  		<lhs><value>a.general_skill</value></lhs>
  <op>EQ</op>
  <rhs><value>5</value></rhs>
 </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>job_application</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_idle</name>
     <description>Household does nothing</description>
     <currentState>01d</currentState>
     <nextState>06</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_read_job_offers_send_response</name>
     <description>Household reads the job offers and ranks them according to the wage offer.</description>
     <currentState>01</currentState>
     <nextState>02</nextState>
     <inputs>
      <input>
       <messageName>job_offer</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.worker_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>quitting</messageName>
      </output>
      <output>
       <messageName>job_acceptance</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_finish_labour_market</name>
     <description></description>
     <currentState>02</currentState>
     <nextState>06</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_read_application_rejection_update_wage_reservation</name>
     <description>Household reads the application rejections and decreases the reservation wage.</description>
     <currentState>02</currentState>
     <nextState>03</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_UNEMPLOYED_read_job_vacancies_and_send_applications_2</name>
     <description>Household reads vacancies messages and sends applications.</description>
     <currentState>03</currentState>
     <nextState>04</nextState>
     <inputs>
      <input>
       <messageName>vacancies2</messageName>
      </input>
	<input>
       <messageName>vacancies_r_and_d_employees2</messageName>
		 <filter>
  		<lhs><value>a.general_skill</value></lhs>
  <op>EQ</op>
  <rhs><value>5</value></rhs>
 </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>job_application2</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_read_job_offers_send_response_2</name>
     <description>Household reads the job offers and ranks them according to the wage offer.</description>
     <currentState>04</currentState>
     <nextState>05</nextState>
     <inputs>
      <input>
       <messageName>job_offer2</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.worker_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>job_acceptance2</messageName>
      </output>
      <output>
       <messageName>quitting2</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_read_application_rejection_update_wage_reservation_2</name>
     <description>Household reads the application rejections and decreases the reservation wage.</description>
     <currentState>05</currentState>
     <nextState>06</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_idle</name>
     <description>Household does nothing.</description>
     <currentState>05</currentState>
     <nextState>06</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_receive_dividends_dummy</name>
     <description>Household receives dividends.</description>
     <currentState>06</currentState>
     <nextState>06b</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_idle</name>
     <description>Household does nothing.</description>
     <currentState>06b</currentState>
     <nextState>09</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>a.day_of_month_receive_income</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_idle</name>
     <description>Household does nothing.</description>
     <currentState>06b</currentState>
     <nextState>06c</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>a.day_of_month_receive_income</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>Household_send_subsidy_notification</name>
     <description>Household send subsidy notification to the government .</description>
     <currentState>06c</currentState>
     <nextState>06d</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>hh_subsidy_notification</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_send_transfer_notification</name>
     <description>Household send transfer notification to the government.</description>
     <currentState>06d</currentState>
     <nextState>06e</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>hh_transfer_notification</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_receive_wage</name>
     <description>Household receives the wage /wage_payment_message.</description>
     <currentState>06e</currentState>
     <nextState>07</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>NEQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs>
      <input>
       <messageName>wage_payment</messageName>
       <filter>
        <lhs>
         <value>a.id</value>
        </lhs>
        <op>EQ</op>
        <rhs>
         <value>m.worker_id</value>
        </rhs>
       </filter>
      </input>
     </inputs>
     <outputs/>
    </function>
    <function>
     <name>Household_update_specific_skills</name>
     <description>Household's specific skills are updated if the household is employed.</description>
     <currentState>07</currentState>
     <nextState>08</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>specific_skill_update</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_send_unemployment_benefit_notification</name>
     <description>Household receives the unemployment benefit.</description>
     <currentState>06e</currentState>
     <nextState>08</nextState>
     <condition>
      <lhs>
       <value>a.employee_firm_id</value>
      </lhs>
      <op>EQ</op>
      <rhs>
       <value>-1</value>
      </rhs>
     </condition>
     <inputs/>
     <outputs>
      <output>
       <messageName>unemployment_notification</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_send_tax_payment</name>
     <description>Household pays the income taxes</description>
     <currentState>08</currentState>
     <nextState>08b</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>tax_payment</messageName>
      </output>
      <output>
       <messageName>unemployment_benefit_restitution</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>Household_determine_consumption_budget</name>
     <description>Household determines the consumption and portfolio budegt</description>
     <currentState>08b</currentState>
     <nextState>09</nextState>
     <inputs/>
     <outputs/>
    </function>
   </functions>
  </xagent>
 </agents>
 <messages>
  <message>
   <name>vacancies</name>
   <description>Message sent by firms. Includes the id, the region id the number of vacancies and the wage offer for the according general skill level.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_1</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_2</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_3</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_4</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_5</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>vacancies2</name>
   <description>Message sent by firms. Includes the id, the region id the number of vacancies and the wage offer for the according general skill level.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_1</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_2</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_3</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_4</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer_for_skill_5</name>
     <description></description>
    </variable>
   </variables>
  </message>
	<message>
   <name>vacancies_r_and_d_employees</name>
   <description>Message sent by firms. Is uesed to hire additional employees for r and d.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer</name>
     <description></description>
    </variable>
   </variables>
  </message>
<message>
   <name>vacancies_r_and_d_employees2</name>
   <description>Message sent by firms. Is uesed to hire additional employees for r and d.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>firm_wage_offer</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>firing</name>
   <description>Message sent by firms. Includes the firm_id and the id of the dismissed employee.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>job_application</name>
   <description>Message sent by households to apply for a job. Includes the id, firm id, region id the general as well as the specific skills.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>general_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>specific_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>job_type</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>job_application2</name>
   <description>Message sent by households to apply for a job. Includes the id, firm id, region id the general as well as the specific skills.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>general_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>specific_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>job_type</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>job_offer</name>
   <description>Message sent by firms to make a job offer for a household. Includes the id, worker id and the corresponding wage offer.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>job_type</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>job_offer2</name>
   <description>Message sent by firms to make a job offer for a household. Includes the id, worker id and the corresponding wage offer.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>wage_offer</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>job_type</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>job_acceptance</name>
   <description>Message sent by households to accept the job offer. Includes the id, firm id, region id, the general as well as the specific skills.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>general_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>specific_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>job_type</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>job_acceptance2</name>
   <description>Message sent by households to accept the job offer. Includes the id, firm id, region id the general as well as the specific skills.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>region_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>general_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>specific_skill</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>job_type</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>quitting</name>
   <description>Message sent by households to quit the current job. Includes the id, firm id.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>quitting2</name>
   <description>Message sent by households to quit the current job. Includes the id, firm id.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>worker_id</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>unemployment_notification</name>
   <description>Household sends unemployment notification to gov, applying for unemployment benefits.</description>
   <variables>
    <variable>
     <type>int</type>
     <name>gov_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>unemployment_payment</name>
     <description></description>
    </variable>
   </variables>
  </message>
 </messages>
</xmodel>
