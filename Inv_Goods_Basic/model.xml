<?xml version="1.0" encoding="UTF-8"?>
<xmodel version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://flame.ac.uk/schema/xmml_v2.xsd">
 <name>Investment Goods Market</name>
 <version>Version 1.0, 01/02/2014</version>
 <author>Simon Gemkow, Philipp Harting, Sander van der Hoog</author>
 <description></description>
 <models/>
 <environment>
  <constants>
   <variable>
    <type>int</type>
    <name>igfirm_switch_on</name>
    <description>1: complete functionality--- 0: Exogenous stochastic innovation process</description>
   </variable>
   <variable>
    <type>int</type>
    <name>igfirm_employer_debug</name>
    <description></description>
   </variable>
   <variable>
    <type>int</type>
    <name>igfirm_fin_man_debug</name>
    <description></description>
   </variable>
   <variable>
    <type>int</type>
    <name>igfirm_producer_debug</name>
    <description></description>
   </variable>
   <variable>
    <type>double</type>
    <name>ig_mark_up</name>
    <description>0.2, Pricing rule: mark up on unit costs.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>ig_lambda</name>
    <description>Strength of the influence of the actual demand on the next production quantity: if LAMBDA = 0 then the planned production quantities of the last periods are recognized. If LAMBDA = 1 then only the actual demand is recognized.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>additional_capital_good_production</name>
    <description>If IGFirm is sold out increase the production be a certain fraction.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>production_productivity</name>
    <description>Productivity of production workers in the IGFirm.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>igfirm_exogenous_innovation_probability</name>
    <description>10. Probability that the investment goods producer innovate a new technology if igfirm is switchoff.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>productivity_progress</name>
    <description>Gives the basic increase of productivity of an innovation if igfirm is switched on.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>igfirm_exogenous_productivity_progress</name>
    <description>Gives the increase of productivity of an innovation if igfirm is switch off.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>efficiency_innovation</name>
    <description>Parameter for steering the influence of a researcher on the innovation probability.</description>
   </variable>


   <variable>
    <type>int</type>
    <name>symmetric_shock</name>
    <description>Binary parameter to set if the energy shock is symmetric.</description>
   </variable>
   <variable>
    <type>int</type>
    <name>energy_shock_start</name>
    <description>Day when the energy shock starts.</description>
   </variable>
   <variable>
    <type>int</type>
    <name>energy_shock_end</name>
    <description>Day when the energy shock ends.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>const_energy_shock_intensity</name>
    <description>Mark up on the capital goods price that flows out of the system, representing energy costs.</description>
   </variable>
   <variable>
    <type>int</type>
    <name>energy_shock_frequency</name>
    <description>The frequency at which the energy price is updated.</description>
   </variable>
   <variable>
    <type>int</type>
    <name>transition_phase</name>
    <description></description>
   </variable>
   <variable>
    <type>int</type>
    <name>innovation_by_random</name>
    <description></description>
   </variable>
	<variable>
    <type>int</type>
    <name>ig_good_limited_offer</name>
    <description>Binary variable: If eq 1 then the IG firm offers a limited range of goods other wise it offers all goods it has ever developed</description>
   </variable>
<variable>
    <type>int</type>
    <name>max_offer_ig_good</name>
    <description>Maximum number of IG goods offered if ig_good_limited_offer equals 1</description>
   </variable>
   <variable>
    <type>double</type>
    <name>initial_frontier_firm_transition_phase</name>
    <description>The initial value of firm's memory variable technology_frontier.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>initial_productivity_firm</name>
    <description>This variable can be used to set the initial productivity of firm's capital stock and change it by setting up an experiment with the ExpGUI.</description>
   </variable>
   <variable>
    <type>double</type>
    <name>initial_specific_skills</name>
    <description>This variable can be used for setting the specific skills.</description>
   </variable>
   <variable>
    <type>int</type>
    <name>strenght_of_tech_progress</name>
    <description>This sets the strenght of tech. progress if it is predetermined. 1 is low, 2 is medium, and 3 is high.</description>
   </variable>
 <variable>
    <type>double</type>
    <name>linear_combination_pricing_ig_good</name>
    <description>This sets the weights of the lkinear combination for the ig price setting.</description>
   </variable>
  </constants>
  <functionFiles>
   <file>IGFirm_Producer_Functions.c</file>
  </functionFiles>
  <timeUnits/>
  <dataTypes>
   <dataType>
    <name>capital_good_request</name>
    <description></description>
    <variables>
     <variable>
      <type>int</type>
      <name>firm_id</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>capital_good_order</name>
      <description></description>
     </variable>
      <variable>
      <type>int</type>
      <name>vintage</name>
      <description></description>
     </variable>	
    </variables>
   </dataType>
<dataType>
    <name>vintage</name>
    <description></description>
    <variables>
     <variable>
      <type>double</type>
      <name>productivity</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>price</name>
      <description></description>
     </variable>
       <variable>
      <type>double</type>
      <name>discounted_productivity</name>
      <description></description>
     </variable>
     <variable>
      <type>double</type>
      <name>sales</name>
      <description></description>
     </variable>	
    </variables>
   </dataType>
  <dataType>
    <name>adt_sales_per_vintage</name>
    <description></description>
    <variables>
     <variable>
      <type>double</type>
      <name>productivity_of_vintage</name>
      <description></description>
     </variable>
      <variable>
      <type>double</type>
      <name>sales</name>
      <description></description>
     </variable>
      <variable>
      <type>double</type>
      <name>revenue</name>
      <description></description>
     </variable>		
    </variables>
   </dataType>
  </dataTypes>
 </environment>
 <agents>
  <xagent>
   <name>IGFirm</name>
   <description></description>
   <memory>
    <variable>
     <type>double</type>
     <name>productivity</name>
     <description>Current productivity of the offered capital good</description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_price</name>
     <description>Current price of the offered capital good</description>
    </variable>
 	<variable>
     <type>vintage_array</type>
     <name>vintages</name>
     <description>The offered technology vintages</description>
    </variable>
      <variable>
     <type>adt_sales_per_vintage_array</type>
     <name>sales_per_vintage</name>
     <description>Sales per vintage</description>
    </variable>
    <variable>
     <type>double</type>
     <name>revenue_per_day</name>
     <description>Revenue of the current  day</description>
    </variable>
    <variable>
     <type>double</type>
     <name>net_profit</name>
     <description>Earnings minus tax payment</description>
    </variable>
    <variable>
     <type>int</type>
     <name>current_shares_outstanding</name>
     <description>Number of shares outstanding</description>
    </variable>
    <variable>
     <type>double</type>
     <name>energy_price_markup</name>
     <description>Mark up on capital goods price.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>energy_costs_per_day</name>
     <description>The share of the daily capital bill that are energy costs.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>earnings_per_day</name>
     <description>The collected revenues minus energy costs.</description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_energy_costs</name>
     <description>This is to compute the total expenses for energy.</description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_net_profits</name>
     <description>Array of the planned production quantities in the past</description>
    </variable>
    <variable>
     <type>double</type>
     <name>dividend_payment</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>duration_until_next_innovation</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>innovation_success</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>additional_productivity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>revenue_for_innovation</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_demand_after_last_innovation</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_demand</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_demand_last_month</name>
     <description></description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_capital_good_demand</name>
     <description></description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_capital_good_sales</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>no_zero_demand</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>critical_stock</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>output</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_output</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_store</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_store_after_production</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_store_before_production</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_production_quantity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>planned_production_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>production_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>calc_production_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>production_costs_last_month</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>production_quantity</name>
     <description></description>
    </variable>
    <variable>
     <type>double_array</type>
     <name>last_production_quantities</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>labour_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>unit_costs</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>sales</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>sales_last_month</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>new_productivity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>new_capital_good_price</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_revenue</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_revenue_last_month</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>cum_net_profits</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>financial_resources_for_production</name>
     <description></description>
    </variable>
    <variable>
     <type>int_array</type>
     <name>innovation_sheme_low_progress</name>
     <description>This is the innovation sheme if low technological progress is selected</description>
    </variable>
    <variable>
     <type>int_array</type>
     <name>innovation_sheme_medium_progress</name>
     <description>This is the innovation sheme if medium technological progress is selected</description>
    </variable>
    <variable>
     <type>int_array</type>
     <name>innovation_sheme_high_progress</name>
     <description>This is the innovation sheme if high technological progress is selected</description>
    </variable>
 <variable>
     <type>double</type>
     <name>mean_general_skills</name>
     <description>Average value of general skills</description>
    </variable>
     <variable>
     <type>double</type>
     <name>productivity_progress_in_economy</name>
     <description>Economy wide productivity progress. Used to compute cost incrreases.</description>
    </variable>
   </memory>
   <functions>
    <function>
     <name>IGFirm_update_productivity</name>
     <description></description>
     <currentState>Start_IGFirm_Productivity</currentState>
     <nextState>01x</nextState>
     <condition>
      <time>
       <period>yearly</period>
       <phase>a.day_of_month_to_act</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_calc_research_employees</name>
     <description></description>
     <currentState>01x</currentState>
     <nextState>01</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_idle</name>
     <description></description>
     <currentState>Start_IGFirm_Productivity</currentState>
     <nextState>01</nextState>
     <condition>
      <not>
       <time>
        <period>yearly</period>
        <phase>a.day_of_month_to_act</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_send_quality_price_info</name>
     <description></description>
     <currentState>01</currentState>
     <nextState>01ii</nextState>
     <inputs/>
     <outputs>
      <output>
       <messageName>productivity</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>IGFirm_idle</name>
     <description></description>
     <currentState>01ii</currentState>
     <nextState>03x</nextState>
     <condition>
      <not>
       <time>
        <period>monthly</period>
        <phase>a.day_of_month_to_act</phase>
       </time>
      </not>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_calc_production_quantity</name>
     <description></description>
     <currentState>01ii</currentState>
     <nextState>01jj</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>a.day_of_month_to_act</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_calc_input_demands</name>
     <description></description>
     <currentState>01jj</currentState>
     <nextState>01kk</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_calc_production_quantity_2</name>
     <description></description>
     <currentState>IGFirm_End_Financial_Management</currentState>
     <nextState>Start_IGFirm_Employer_Role</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_produce_capital_good</name>
     <description></description>
     <currentState>Start_IGFirm_Production</currentState>
     <nextState>03ig</nextState>
     <condition>
      <time>
       <period>monthly</period>
       <phase>a.day_of_month_to_act</phase>
      </time>
     </condition>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_calc_pay_costs</name>
     <description></description>
     <currentState>03ig</currentState>
     <nextState>03x</nextState>
     <inputs/>
     <outputs/>
    </function>
    <function>
     <name>IGFirm_send_capital_good</name>
     <description></description>
     <currentState>03x</currentState>
     <nextState>03</nextState>
     <inputs>
      <input>
       <messageName>capital_good_request</messageName>
      </input>
     </inputs>
     <outputs>
      <output>
       <messageName>capital_good_delivery</messageName>
      </output>
     </outputs>
    </function>
    <function>
     <name>IGFirm_calc_revenue</name>
     <description></description>
     <currentState>03</currentState>
     <nextState>IGFirm_Start_Financial_Management_Role</nextState>
     <inputs>
      <input>
       <messageName>pay_capital_goods</messageName>
      </input>
     </inputs>
     <outputs/>
    </function>
   </functions>
  </xagent>
 </agents>
 <messages>
  <message>
   <name>productivity</name>
   <description></description>
   <variables>
    <variable>
     <type>int</type>
     <name>IGfirm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>cap_productivity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>cap_good_price</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>capital_good_request</name>
   <description></description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_demand</name>
     <description></description>
    </variable>
    <variable>
     <type>int</type>
     <name>vintage</name>
     <description></description>
    </variable>	
   </variables>
  </message>
  <message>
   <name>capital_good_delivery</name>
   <description></description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_delivery_volume</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>productivity</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_good_price</name>
     <description></description>
    </variable>
   </variables>
  </message>
  <message>
   <name>pay_capital_goods</name>
   <description></description>
   <variables>
    <variable>
     <type>int</type>
     <name>firm_id</name>
     <description></description>
    </variable>
    <variable>
     <type>double</type>
     <name>capital_bill</name>
     <description></description>
    </variable>
   </variables>
  </message>
 </messages>
</xmodel>
