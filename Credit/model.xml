<?xml version="1.0" encoding="UTF-8"?>
<xmodel version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://flame.ac.uk/schema/xmml_v2.xsd">
 <name>Credit Market</name>
 <version>Version 1.0, 01/02/2014</version>
 <author>Simon Gemkow, Philipp Harting, Sander van der Hoog</author>
 <description></description>
    <environment>
        <constants>
            <variable>
                <type>int</type>
                <name>number_of_banks_to_apply</name>
                <description>Number of banks to which firms can apply for loans.</description>
            </variable>
            <variable>
                <type>int</type>
                <name>const_number_of_banks</name>
                <description>Total number of banks.</description>
            </variable>
            <variable>
                <type>int</type>
                <name>const_installment_periods</name>
                <description>Number of months to make debt installment payments before a loan is fully repaid.</description>
            </variable>
                <variable>
                    <type>double</type>
                    <name>bank_lambda</name>
                    <description>Exogenous parameter regulating the speed of adjustment of the bank_gamma parameter.</description>
                </variable>
            <variable>
                <type>double</type>
                <name>ecb_interest_rate</name>
                <description>Base interest rate charged by Central Bank.</description>
            </variable>
            <variable>
                <type>double</type>
                <name>ecb_interest_rate_markdown</name>
                <description>Markdown on the base interest rate. The interest rate paid by the bank on deposits is: (1-ecb_interest_rate_markdown)*ecb_interest_rate.</description>
            </variable>
            <variable>
                <type>double</type>
                <name>alfa</name>
                <description>Basel II regulatory parameter, default 10; banks can provide credit up to ALFA*EQUITY.</description>
            </variable>
            <variable>
                <type>double</type>
                <name>min_cash_reserve_ratio</name>
                <description>Percentage of the deposits of the bank that has to be hold as minimum reserve.</description>
            </variable>
        </constants>
        <functionFiles>
            <file>Bank_Credit_Functions.c</file>
            <file>Firm_Credit_Functions.c</file>
            <file>Central_Bank_Functions.c</file>
        </functionFiles>
        <timeUnits>
            <timeUnit>
                <name>daily</name>
                <unit>iteration</unit>
                <period>1</period>
            </timeUnit>
            <timeUnit>
                <name>weekly</name>
                <unit>daily</unit>
                <period>5</period>
            </timeUnit>
            <timeUnit>
                <name>monthly</name>
                <unit>weekly</unit>
                <period>4</period>
            </timeUnit>
        </timeUnits>
        <dataTypes>
            <dataType>
                <name>account_item</name>
                <description>ADT with attributes of a payment account.</description>
                <variables>
                    <variable>
                        <type>int</type>
                        <name>id</name>
                        <description>Id of the account holder.</description>
                    </variable>
                    <variable>
                        <type>double</type>
                        <name>payment_account</name>
                        <description>Value of the account.</description>
                    </variable>
                </variables>
            </dataType>
        </dataTypes>
    </environment>
    <agents>
        <xagent>
            <name>Firm</name>
            <description></description>
            <memory>
                <variable>
                    <type>int_array</type>
                    <name>set_of_lenders</name>
                    <description>Array of ints (potential lender) holding names of (found) active banks.</description>
                </variable>
                <variable>
                    <type>int_array</type>
                    <name>potential_lenders</name>
                    <description>Array of ints (potential lender) holding names of (found) active banks.</description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>number_of_banks_asked</name>
                    <description>Number of banks where the firm has asked for loans.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>received_interest_daily</name>
                    <description>Received daily interest on bank account.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>received_interest_in_calendar_month</name>
                    <description>Sum of all interest on bank account received in calendar month</description>
                </variable>
            </memory>
            <functions>
                <function>
                    <name>Firm_receive_account_interest</name>
                    <description>Firm receives interest on deposit account.</description>
                    <currentState>Firm_interest</currentState>
                    <nextState>Firm_checks_if_active</nextState>
                    <inputs>
                        <input>
                            <messageName>account_interest</messageName>
                        </input>
                    </inputs>
                </function>
                <function>
                    <name>Firm_ask_loan</name>
                    <description>Firm contacts banks asking for a loan and communicating its balance sheet.</description>
                    <currentState>Firm_Start_Credit_Role</currentState>
                    <nextState>Firm_Credit_02</nextState>
                    <condition>
                        <lhs>
                            <value>a.external_financial_needs</value>
                        </lhs>
                        <op>GT</op>
                        <rhs>
                            <value>0</value>
                        </rhs>
                    </condition>
                    <inputs>
                        <input>
                            <messageName>bank_identity</messageName>
                        </input>
                    </inputs>
                    <outputs>
                        <output>
                            <messageName>loan_request</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Firm_get_loan</name>
                    <description>Firm gets the money from banks, adds the loan to its liabilities and register all the loan features (VaR, interest rate).</description>
                    <currentState>Firm_Credit_02</currentState>
                    <nextState>Firm_End_Credit_Role</nextState>
                    <inputs>
                        <input>
                            <messageName>loan_conditions</messageName>
                            <filter>
                                <lhs>
                                    <value>a.id</value>
                                </lhs>
                                <op>EQ</op>
                                <rhs>
                                    <value>m.firm_id</value>
                                </rhs>
                            </filter>
                            <sort>
                                <key>proposed_interest_rate</key>
                                <order>ascend</order>
                            </sort>
                        </input>
                    </inputs>
                    <outputs>
                        <output>
                            <messageName>loan_acceptance</messageName>
                        </output>
                    </outputs>
                </function>
            </functions>
        </xagent>
        <xagent>
            <name>Bank</name>
            <description></description>
            <memory>
                <variable>
                    <type>int</type>
                    <name>active</name>
					<description>Indicator of Bank activity. Active=1: equity GT 0.</description>
				</variable>
				<variable>
					 <type>int</type>
					 <name>inactive</name>
					 <description>Indicator of Bank inactivity. Active=0: InActive=1.</description>
				</variable>
                <variable>
                    <type>double</type>
                    <name>cash</name>
                    <description>Bank's cash reserves.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_credit</name>
                    <description>Sum of outstanding loans, total credit.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>equity</name>
                    <description>Total assets minus total liabilities.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>ecb_debt</name>
                    <description>Total liquidity borrowed from Central Bank.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>value_at_risk</name>
                    <description>Total value at risk of the bank's loan portfolio.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>deposit_interest_rate</name>
                    <description>Rate on deposits/payment accounts.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>bank_gamma[2]</name>
                    <description>Behavioural parameter used to set the loan interest rates for firms.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>profits[2]</name>
                    <description>Current and previous period's profits.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>bank_dividend_rate</name>
                    <description>Percentage of bank's profits paid out as dividends. Default 100%.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>tax_rate_corporate</name>
                    <description>Government tax rate on corporate profits.</description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>current_shares_outstanding</name>
                    <description>Number of oustanding shares.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>debt_period</name>
                    <description>Length of the debt repayment period. Equaly the global model constant.</description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>loan_request_message_found</name>
                    <description>Indicator.</description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>day_of_month_to_act</name>
                    <description>Day of the month to act for bank accounting function.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>deposits</name>
                    <description>Total end-of-the-day deposits.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>firm_loan_installments</name>
                    <description>Installment amount received by firms.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>firm_loan_installments_in_calendar_month</name>
                    <description>Installment amount received by firms.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>firm_interest_payments</name>
                    <description>Interests paid by firms.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>firm_interest_payments_in_calendar_month</name>
                    <description>Interests paid by firms in calendar month.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>firm_loan_issues</name>
                    <description>Total amount of credit provided to firms this month.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>ecb_interest_payment</name>
                    <description>Interest the bank pays to Central Bank on its ECB debt (standing facility).</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_dividend_payment</name>
                    <description>Dividend payment of the bank.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_dividends_in_calendar_month</name>
                    <description>Dividend payment of the bank in the calendar month</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>taxes</name>
                    <description>Tax payment of the bank.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>dividend_per_share</name>
                    <description>Dividends earned by one share.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>current_share_price</name>
                    <description>Market price of bank's shares.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>leverage_ratio</name>
                    <description>The leverage ratio of the bank, defined as total credit / total deposits.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>cash_deposit_ratio</name>
                    <description>The cash reserve ratio: cash / total deposits.</description>
                </variable>

                <variable>
                    <type>double</type>
                    <name>equity_asset_ratio</name>
                    <description>Bank equity / assets. Measure for bank risk.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>mean_interest_rate</name>
                    <description>The overall mean interest rate of the bank (monthly). Defined as: sum of interest rates for new loans this month / number of new loans this month.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>sum_new_interest_rates_in_calendar_month</name>
                    <description>Sum of interest rates for new loans this month.</description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>no_new_loans_in_calendar_month</name>
                    <description>Number of new loans this month.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>paid_interest_daily</name>
                    <description>Paid daily interest on bank accounts.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>paid_interest_in_calendar_month</name>
                    <description>Sum of all interest paid on bank accounts in calendar month</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>excess_var</name>
                    <description>Excess of the value at risk: Difference of the maximum value at risk to the current VaR.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>excess_liquidity</name>
                    <description>Excess of the bank liquidity: Difference of the minimum liquidity requirement and the current liquidity of the bank.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_bad_debt_calendar_month</name>
                    <description>Sum of bad_debt of the bank.</description>
                </variable>
            </memory>
            <functions>
                <function>
                    <name>Bank_read_policy_rate</name>
                    <description>The bank reads policy rate and updated risk free rate</description>
                    <currentState>Bank_update_policy_rate</currentState>
                    <nextState>Bank_start_credit_market_role</nextState>
                    <condition>
                        <time>
                            <period>monthly</period>
                            <phase>1</phase>
                        </time>
                    </condition>
                    <inputs>
                        <input>
                            <messageName>policy_rate</messageName>
                        </input>
                    </inputs>
                </function>
                <function>
                    <name>idle</name>
                    <description>The bank does not update risk free rate</description>
                    <currentState>Bank_update_policy_rate</currentState>
                    <nextState>Bank_start_credit_market_role</nextState>
                    <condition>
                        <not>
                            <time>
                                <period>monthly</period>
                                <phase>1</phase>
                            </time>
                        </not>
                    </condition>
                </function>
                <function>
                    <name>Bank_communicate_identity</name>
                    <description>Active banks communicate their identity to firms at the opening of the credit market.</description>
                    <currentState>Bank_start_credit_market_role</currentState>
                    <nextState>Bank_01</nextState>
                    <outputs>
                        <output>
                            <messageName>bank_identity</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_send_dividend_payment</name>
                    <description>Function to send the dividend_info message to Clearinghouse.</description>
                    <currentState>Bank_01</currentState>
                    <nextState>Bank_01b</nextState>
                    <condition>
                        <time>
                            <period>monthly</period>
                            <phase>1</phase>
                        </time>
                    </condition>
                    <outputs>
                        <output>
                            <messageName>dividend_info</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_set_quantities_zero</name>
                    <description></description>
                    <currentState>Bank_01</currentState>
                    <nextState>Bank_01b</nextState>
                    <condition>
                        <not>
                            <time>
                                <period>monthly</period>
                                <phase>1</phase>
                            </time>
                        </not>
                    </condition>
                </function>
                <function>
                    <name>Bank_send_account_interest</name>
                    <description>Bank communicates the interest rate on deposits.</description>
                    <currentState>Bank_01b</currentState>
                    <nextState>Bank_02</nextState>
                    <outputs>
                        <output>
                            <messageName>account_interest</messageName>
                        </output>
                        <output>
                            <messageName>bank_interest_payment</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_rank_credit_requests</name>
                    <description>Bank ranks credit requests of applying firms.</description>
                    <currentState>Bank_02</currentState>
                    <nextState>Bank_021</nextState>
                    <condition>
                        <lhs>
                            <value>a.active</value>
                        </lhs>
                        <op>EQ</op>
                        <rhs>
                            <value>1</value>
                        </rhs>
                    </condition>
                    <inputs>
                        <input>
                            <messageName>loan_request</messageName>
                            <filter>
                                <lhs>
                                    <value>a.id</value>
                                </lhs>
                                <op>EQ</op>
                                <rhs>
                                    <value>m.bank_id</value>
                                </rhs>
                            </filter>
                        </input>
                    </inputs>
                    <outputs>
                        <output>
                            <messageName>loan_request_ranked</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_decide_credit_conditions</name>
                    <description>Bank sets loan conditions for the applying firms.</description>
                    <currentState>Bank_021</currentState>
                    <nextState>Bank_03</nextState>
                    <inputs>
                        <input>
                            <messageName>loan_request_ranked</messageName>
                            <filter>
                                <lhs>
                                    <value>a.id</value>
                                </lhs>
                                <op>EQ</op>
                                <rhs>
                                    <value>m.bank_id</value>
                                </rhs>
                            </filter>
                            <sort>
                                <key>value_at_risk_request</key>
                                <order>ascend</order>
                            </sort>
                        </input>
                    </inputs>
                    <outputs>
                        <output>
                            <messageName>loan_conditions</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_give_loan</name>
                    <description>Bank accounts the feature of the granted loan and updates its portfolio.</description>
                    <currentState>Bank_03</currentState>
                    <nextState>Bank_04</nextState>
                    <inputs>
                        <input>
                            <messageName>loan_acceptance</messageName>
                            <filter>
                                <lhs>
                                    <value>a.id</value>
                                </lhs>
                                <op>EQ</op>
                                <rhs>
                                    <value>m.bank_id</value>
                                </rhs>
                            </filter>
                        </input>
                    </inputs>
                </function>
                <function>
                    <name>idle</name>
                    <description>Bank idle: Bank does nothing</description>
                    <currentState>Bank_02</currentState>
                    <nextState>Bank_04</nextState>
                    <condition>
                        <lhs>
                            <value>a.active</value>
                        </lhs>
                        <op>EQ</op>
                        <rhs>
                            <value>0</value>
                        </rhs>
                    </condition>
                </function>
                <function>
                    <name>Bank_receive_installment</name>
                    <description>Bank receives periodic interests and installments from client firms.</description>
                    <currentState>Bank_04</currentState>
                    <nextState>Bank_05</nextState>
                    <inputs>
                        <input>
                            <messageName>installment</messageName>
                        </input>
                        <input>
                            <messageName>bankruptcy</messageName>
                        </input>
                    </inputs>
                </function>
                <function>
                    <name>Bank_account_update_deposits</name>
                    <description>Bank updates its deposits and if needed reduces its exposition towards Central Bank.</description>
                    <currentState>Bank_05</currentState>
                    <nextState>Bank_06</nextState>
                    <inputs>
                        <input>
                            <messageName>bank_account_update</messageName>
                            <filter>
                                <lhs>
                                    <value>a.id</value>
                                </lhs>
                                <op>EQ</op>
                                <rhs>
                                    <value>m.bank_id</value>
                                </rhs>
                            </filter>
                        </input>
                        <input>
                            <messageName>credit_var_update</messageName>
                            <filter>
                                <lhs>
                                    <value>a.id</value>
                                </lhs>
                                <op>EQ</op>
                                <rhs>
                                    <value>m.bank_id</value>
                                </rhs>
                            </filter>
                        </input>
                    </inputs>
                </function>
                <function>
                    <name>Bank_accounting</name>
                    <description>Balance sheet updates are executed.</description>
                    <currentState>Bank_06</currentState>
                    <nextState>Bank_07</nextState>
                    <condition>
                        <time>
                            <period>monthly</period>
                            <phase>0</phase>
                        </time>
                    </condition>
                    <outputs>
                        <output>
                            <messageName>tax_payment</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_idle</name>
                    <description></description>
                    <currentState>Bank_06</currentState>
                    <nextState>Bank_07</nextState>
                    <condition>
                        <not>
                            <time>
                                <period>monthly</period>
                                <phase>0</phase>
                            </time>
                        </not>
                    </condition>
                </function>
                <function>
                    <name>Bank_update_ecb_account</name>
                    <description>Bank sends a message to ECB with its cash (payment account of the Bank at the ECB).</description>
                    <currentState>Bank_07</currentState>
                    <nextState>Bank_08</nextState>
                    <outputs>
                        <output>
                            <messageName>bank_to_central_bank_account_update</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Bank_stocks_and_flows</name>
                    <description>Bank updates its stock and flow variables.</description>
                    <currentState>Bank_08</currentState>
                    <nextState>end_Bank</nextState>
                </function>
            </functions>
        </xagent>
        <xagent>
            <name>CentralBank</name>
            <description></description>
            <memory>
                <variable>
                    <type>double</type>
                    <name>equity</name>
                    <description>The ECB equity is the account to collect the interest payments from the banks and the government bond coupons.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>dividend_payment</name>
                    <description>The equity of ECB is paid out to all governments as dividends.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>fiat_money</name>
                    <description>Total fiat money.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>fiat_money_banks</name>
                    <description>Sum of all banks ECB debt, here stated as a CB liability on the ECB's balance sheet.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>ecb_deposits</name>
                    <description>Total sum of deposits by governments and banks at the ECB.</description>
                </variable>
                <variable>
                    <type>account_item_array</type>
                    <name>accounts_banks</name>
                    <description>Accounts of banks with the ECB.</description>
                </variable>
                <variable>
                    <type>account_item_array</type>
                    <name>accounts_govs</name>
                    <description>Accounts of Governments with the ECB.</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>cash</name>
                    <description>CB liquid asset (high-powered money). Is updated with interest payments to and from banks and (possibly) from governments.</description>
                </variable>
            </memory>
            <functions>
                <function>
                    <name>Central_Bank_read_account_update</name>
                    <description>Central Bank updates accounts of banks and Government.</description>
                    <currentState>00</currentState>
                    <nextState>end_Central_Bank</nextState>
                    <inputs>
                        <input>
                            <messageName>bank_to_central_bank_account_update</messageName>
                        </input>
                        <input>
                            <messageName>gov_to_central_bank_account_update</messageName>
                        </input>
                        <input>
                            <messageName>bank_interest_payment</messageName>
                        </input>
                    </inputs>
                    <outputs>
                        <output>
                            <messageName>ecb_dividend</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>Central_Bank_reset_variables</name>
                    <description>Central bank resets memory variables.</description>
                    <currentState>start_Central_Bank</currentState>
                    <nextState>CB_reset</nextState>
                    <condition>
                        <time>
                            <period>monthly</period>
                            <phase>1</phase>
                        </time>
                    </condition>
                </function>
                <function>
                    <name>Central_Bank_monetary_policy</name>
                    <description>Central bank implements monetary policy.</description>
                    <currentState>CB_reset</currentState>
                    <nextState>CB_market_operations</nextState>
                    <condition>
                        <lhs>
                            <value>0</value>
                        </lhs>
                        <op>EQ</op>
                        <rhs>
                            <value>0</value>
                        </rhs>
                    </condition>
                    <inputs>
                        <input>
                            <messageName>eurostat_send_macrodata</messageName>
                        </input>
                    </inputs>
                    <outputs>
                        <output>
                            <messageName>policy_rate</messageName>
                        </output>
                    </outputs>
                </function>
                <function>
                    <name>idle</name>
                    <description>Central bank does not implement monetary policy.</description>
                    <currentState>start_Central_Bank</currentState>
                    <nextState>CB_market_operations</nextState>
                    <condition>
                        <not>
                            <time>
                                <period>monthly</period>
                                <phase>1</phase>
                            </time>
                        </not>
                    </condition>
                </function>
                <function>
                    <name>Central_Bank_read_fiat_money_requests</name>
                    <description>Function to read fiat money requests from banks and Governments.</description>
                    <currentState>CB_financial_operations_end</currentState>
                    <nextState>00</nextState>
                    <condition>
                        <time>
                            <period>monthly</period>
                            <phase>0</phase>
                        </time>
                    </condition>
                    <inputs>
                        <input>
                            <messageName>request_fiat_money</messageName>
                        </input>
                    </inputs>
                </function>
                <function>
                    <name>idle</name>
                    <description></description>
                    <currentState>CB_financial_operations_end</currentState>
                    <nextState>00</nextState>
                    <condition>
                        <not>
                            <time>
                                <period>monthly</period>
                                <phase>0</phase>
                            </time>
                        </not>
                    </condition>
                </function>
            </functions>
        </xagent>
    </agents>
    <messages>
        <message>
            <name>policy_rate</name>
            <description>Message sent by CB to communicate the policy rate.</description>
            <variables>
                <variable>
                    <type>double</type>
                    <name>policy_rate_value</name>
                    <description>rate value</description>
                </variable>
            </variables>
        </message>
        <message>
            <name>bank_identity</name>
            <description>Message added by bank to communicate its existence to firms.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description>name of the bank</description>
                </variable>
            </variables>
        </message>
        <message>
            <name>loan_request</name>
            <description>Message added by firm to demand credit with bank_id, with financial info of applying firm.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>firm_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>equity</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_debt</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>external_financial_needs</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>loan_request_ranked</name>
            <description>Message added by bank to rank credit requests of applying firms.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>firm_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>equity</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_debt</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>credit_request</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>value_at_risk_request</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>loan_conditions</name>
            <description> Message added by bank to offer credit; contains the interest rate, the amount of offered credit, and the value_at_risk.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>firm_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>proposed_interest_rate</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>amount_offered_credit</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>value_at_risk</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>loan_acceptance</name>
            <description>Message added by firm to accept a loan with bank_id, for the amount credit_taken and VAR. The bank does not need to know the firm_id.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>credit_amount_taken</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>loan_total_var</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>interest_rate</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>installment</name>
            <description>Message added by firm pays installment and interest to the bank.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>installment_amount</name>
                    <description>installment_amount is 0 in case of bankruptcy, positive in case of No_bankruptcy</description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>interest_amount</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>var_per_installment</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>total_var</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>bankruptcy</name>
            <description>Message added by firm to bank to signal bankruptcy.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>firm_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>bad_debt</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>credit_refunded</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>writeoff_var</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>bankruptcy_id</name>
            <description>Message added by firm to signal bankruptcy (used by Household and Eurostat).</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>firm_id</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>bank_interest_payment</name>
            <description>Interests paid by banks to ecb</description>
            <variables>
                <variable>
                    <type>double</type>
                    <name>bank_interest_amount</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>account_interest</name>
            <description>Message sent by Bank to inform account holders of the deposit interest rate.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>interest_rate</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>ecb_dividend</name>
            <description>Message sent by ECB to Gov to pay ECB dividend in case of positive ECB equity.</description>
            <variables>
                <variable>
                    <type>double</type>
                    <name>dividend_per_gov</name>
                    <description></description>
                </variable>
            </variables>
        </message>
        <message>
            <name>credit_var_update</name>
            <description>Message sent by Firm to Bank to inform about value-at-risk per loan.</description>
            <variables>
                <variable>
                    <type>int</type>
                    <name>firm_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>int</type>
                    <name>bank_id</name>
                    <description></description>
                </variable>
                <variable>
                    <type>double</type>
                    <name>value_at_risk</name>
                    <description></description>
                </variable>
            </variables>
        </message>
    </messages>
</xmodel>
